<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <title>ðŸŽ¹</title>

  <!-- load jquery -->
  <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"></script>

  <!-- Web components polyfill -->
  <!-- <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2.0.0/webcomponents-loader.js"></script> -->
  <script src="webcomponents-loader.js"></script>

  <!-- Newer version of midiconvert -->
  <!-- <script src="https://unpkg.com/@tonejs/midi"></script> -->
  <!-- load magenta.js -->
  <!-- <script src="https://unpkg.com/@magenta/music@1.1.9/dist/magentamusic.js"></script> -->
  <script src="magentamusic.js"></script>

  <!-- Load the web component-->
  <script src="midi-visualizer.js"></script>

  <!-- Make the demo pretty-->
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono" rel="stylesheet">
  <link href="midi-player-styles.css" rel="stylesheet">
</head>
<body>
  <h1 class="midi-h1">Piano midi visualizer</h1>  
  <div class="midi-body">
    <div>
      <button id="playBtn" class="midi-button" disabled>wait...</button>
      <button id="resetPlayheadBtn" class="midi-button" title="Set playhead position to 0.">ResetPlH</button>
      <button id="fitContentBtn" class="midi-button" title="Fits content of current file to canvas">Fit Content</button>
      <span class="midi-input-btn" title="Adjust playback tempo">tempo: <input id="tempoInput" value="100" placeholder="tempo"></span>
      <label id="timeSignature" class="buttonLabel">0</label>
      <label class="buttonLabel" title="Select file from disk.">
        <input id="chooseFileBtn" type="file">
        Load midi file
      </label>
      <select id="selectSize" title="Seect size of widget">
        <option value="30">Default(30%)</option>
        <option value="0">Minimized</option>
        <option value="50">50%</option>
        <option value="87">87%</option>
      </select>
      <select id="selectColorMode" title="Select by which property colors will be assigned"></select>
      <select id="selectFilterMode" title="Select by which property notes will be displayed"></select>
      <select id="selectFilterValue" title="Select which channel or track to display"></select>
      <button id="copyCanvasBtn" class="midi-button" title="Copy screenshot of pianoroll to clipboard">ICPY</button>
      <label class="buttonLabel" id="controlsHint" title="\nUse mouse click to set playhead's positions.\nUse mouse drag to:\n - to scroll horizontally.\n - with Alt to scroll vertically.\n - with Shift to scale horizontally.\n - with Ctrl to scale vertically.\nYou can also use mouse wheel.">Help</label>
    </div>
    <midi-visualizer
      id="visualizer"
      url="https://cdn.glitch.com/3312a3b4-6418-4bed-a0bd-3a0ca4dfa2fb%2Fchopin.mid?1534369337985">
    </midi-visualizer>
  </div>
  <footer class="midi-footer">made with ðŸŽ§ by <a href="https://twitter.com/notwaldorf">monica</a> (and slightly modified by <a href="https://github.com/LisGlitchrain">glitchrain)</a>.</footer>
  <script src="main-controls.js"></script>
  <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
  <script src="https://button.glitch.me/button.js"></script>
</body>
</html>